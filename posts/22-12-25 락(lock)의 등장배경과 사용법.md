---
title: 22-12-25 락(lock)의 등장배경과 사용법
date: 2022-12-25
tags:
 - 태그 1
---

## 메모

프로그램을 병렬로 돌리기 위해 앞서 우리는 쓰레드라는 개념을 배워봤다. 여러 개의 명령어들을 "원자적"으로 실행하려 하였지만 단일 프로세서의 인터럽트로 인해서 그렇게 할 수 없음을 확인해보았다.

이러한 문제를 해결하기 위해 락(lock)이라는 개념을 배워보자. 프로그래머들은 소스 코드의 임계 영역을 락으로 둘러서 그 임계 영역이 마치 하나의 원자 단위 명령어인 것처럼 실행되도록 한다. (락이라는 자원을 얻어서 임계 영역을 쓰레드간 상호배제하도록 한다..)

### 락: 기본 개념

코드에서의 락은 하나의 변수이고 락의 상태(사용가능 여부)를 나타낸다. 또한 이 락 자료 구조에 락을 보유한 쓰레드에 대한 정보나 락을 대기하는 쓰레드들에 대한 정보를 저장할 수도 있다. 물론, 이러한 정보는 락 사용자는 알 수 없다.

`lock()`과 `unlock()` 루틴 또한 간단하다. 
- `lock()`  루틴 호출을 통해 락 획득을 시도한다.
	- 만약 어떠한 스레드도 락을 갖고 있지 않으면 그 쓰레드는 락을 획득하여 임계 영역 내로 진입한다. 이렇게 진입한 쓰레드를 락 소유자(owner)라고 부른다.

## 참고문헌


## 연결문서

