---
title: 22-12-30 로컬환경에서 VPC 내에 있는 DB에 붙는 법
date: 2022-12-30
tags:
 - VPC
 - DB
 - AWS
 - Private Subnet
---

## 서문

백엔드 개발자로 AWS 환경에서 VPC를 세팅하여 퍼블릭, 프라이빗 서브넷을 구분하다보면 항상 다음과 같은 애로사항이 발생할 것이다. 프라이빗 서브넷에 감추어 숨어있는 DB에 어떻게 직접 접근할 수 있을까? 그리고 DB에 직접 접근할 수 있도록 하는 것이 옳은가? 라는 부분 말이다. 

위와 같은 나의 궁금점을 구글링하자마자 친절하게 AWS와 스택오버플로우의 문서들이 나를 반겨줘서 간략하게 정리해보기로 한다.

## 그래서 DB에 접근하려면 어떻게 해야하는가?

일반적으로 DB를 외부에 노출시키지 않기 위해 프라이빗 서브넷에 배치한 뒤 EC2에서만 접근이 가능하게 보안 그룹(Security Group)을 설정할 것이다. 

가장 먼저 떠올릴 수 있는 해결 방안으로는 `Bastion 호스트`를 점프 호스트로 두는 것이다. (SSH 터널링 방식이라고 한다.) 보통 DB 툴 (MySQL워크벤치, 데이터그립 등)에서는 SSH 터널링 방식을 제공하므로 `SSH` 탭 등을 잘 살펴보도록 하자. 원리는 EC2 인 배스천을 통해 한 다리 건너 접근하는 방식인 것이다. ([참고 문서](https://jojoldu.tistory.com/623) )

하지만 배스천 호스트를 둔다는 것은 보안적으로 그다지 좋지 못하고 한다. (소마에서 어떤 멘토님이 열심히 설파하고 다니시던 기억이 ㅋㅋ...) 그건 그렇고 아마존에서도 이와 같은 이유로 `VPN` 혹은 `AWS Direct Connect`를 사용하라고 한다. 

## 참고문헌


## 연결문서

