---
title: TestDouble (by Martin Fowler)
date: 2022-12-10
---

## 주제 : #TestDouble #Xunit #test

## 메모

> [마틴 파울러의 글](https://martinfowler.com/bliki/TestDouble.html) 의 번역입니다. 테스트 더블이라는 말이 혼용되고 있는 것 같아서 어디서 시작되었고, 정확한 의미를 알아보기 위해 읽어보았습니다.

"Gerald Meszaros" (유명한 xUnit Test Patterns 책의 저자)는 다양한 Xunit 프레임워크를 사용하기 위한 패턴을 정리하기 위한 책을 작업하고 있습니다. 그가 마주친 어색한 부분들 중 하나는 "stubs", "mocks", "fakes", "dummies" 와 같은 사람들이 테스트를 위해 시스템의 일부를 스텁할 때 사용하는 다양한 이름들이었습니다. 이 문제를 해결하기 위해 그는 자신만의 어휘를 정리하였는데, 나(마틴 파울러)는 이것이 더 널리 퍼질 가치가 있다고 생각합니다.

그가 사용하는 일반적인 용어는 `Test Double` (think stunt double) 입니다. Test Double은 테스트 목적으로 프로덕션의 개체를 교체하는 일반적인 경우를 포괄하는 용어입니다. 제라드가 말한 테스트 더블에는 다양한 종류가 있습니다.

- `Dummy` : 더미 개체는 주변에 전달되지만 실제로 사용되지는 않습니다. 일반적으로 매개변수 목록을 "채우는" 데만 사용됩니다.
- `Fake` : 페이크 개체는 실제로 작동하는 구현체를 가지고 있지만, 프로덕션에는 적합하지 않은 지름길(=shortcut)로 이루어 있습니다. `InMemoryTestDatabase`가 좋은 예시입니다.
- `Stubs` : 스텁은 발생한 호출에 대한 "가능한" 응답을 제공하며, 해당 테스트를 위해 프로그래밍된 항목 이외의 항목에 대해서는 응답하지 않습니다.
- `Spies` : 스파이는 스텁의 종류인데 그들이 어떻게 불렸는지에 근거하여 일부 정보를 기록하는 스텁입니다. 존송된 메시지 수를 기록하는 전자 메일 서비스가 이러한 형식 중 하나일 수 있습니다.
- `Mocks`: 목은 그들이 받을 것으로 예상되는 호출의 요구를 반영하여 미리 프로그래밍 됩니다. 만약 예상치 못한 호출을 받는다면 에러를 던질 수 있고, 호출들이 예상대로 이루어졌는지 확인합니다.

## 참고문헌

- [Test Double](https://martinfowler.com/bliki/TestDouble.html)

## 연결문서
