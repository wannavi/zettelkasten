---
title: Jenkinsë¥¼ í™œìš©í•œ CIì™€ CD
date: 2022-11-08
---

## ì£¼ì œ : #Jenkins #CI/CD

## âœï¸ ë©”ëª¨

### CI/CDë€?

- Continuous Integration => ë­˜ í†µí•©í•œë‹¤ëŠ” ê±¸ê¹Œ?
  - ì—¬ëŸ¬ ê°œë°œìë“¤ì˜ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ ê³„ì†í•´ì„œ í†µí•©í•˜ëŠ” ê²ƒ
- Continuous Delivery => ë­˜ ë°°ë‹¬í•œë‹¤ëŠ” ê±¸ê¹Œ?
  - ì‚¬ìš©ìì—ê²Œ ì„œë¹„ìŠ¤ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë°°ë‹¬í•œë‹¤.
  - ì½”ë“œë² ì´ìŠ¤ê°€ í•­ìƒ ë°°í¬ê°€ëŠ¥í•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒ.
- Continuous Deployment
  - ì½”ë“œë² ì´ìŠ¤ë¥¼ ì‚¬ìš©ìê°€ ì‚¬ìš©ê°€ëŠ¥í•œ í™˜ê²½ì—ì„œ ë°°í¬í•˜ëŠ” ê²ƒì„ ìë™í™”í•¨.

ìš”ì•½í•˜ë©´ ê°ê°ì˜ ê°œë°œìë“¤ì´ ê°œë°œì„ í•˜ëŠ” ê°œë°œ í™˜ê²½ì„ ì‚¬ìš©ìê°€ ì‚¬ìš© ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒ. ëª¨ë“  ê³¼ì •ì„ ì§€ì† ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë˜ ê°€ëŠ¥í•˜ë‹¤ë©´ ìë™ìœ¼ë¡œ í•´ì„œ ê°œë°œìì™€ ì‚¬ìš©ì ì‚¬ì´ì˜ ê²©ì°¨ë¥¼ ì—†ì• ëŠ” ê²ƒì´ë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì—ëŠ” ì½”ë“œë¥¼ ë¹Œë“œí•˜ê³ , í…ŒìŠ¤íŠ¸í•˜ê³  ë°°í¬í•˜ëŠ” í™œë™ì´ ìˆë‹¤.

### CIì™€ í•¨ê»˜ë¼ë©´?

- 10ëª…ì˜ ê°œë°œìê°€ ì—´ì‹¬íˆ ê°œë°œ => ì»¤ë°‹! => ë¡œì»¬ í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹¤íŒ¨.. => ì»¤ë°‹! => ì½”ë“œë² ì´ìŠ¤ ë¨¸ì§€ => ë§Œì¡±!
  - ê°€ëŠ¥í•œ ìµœëŒ€í•œ ë§ì´ ë¹¨ë¦¬ë¹¨ë¦¬ ë‚´ ì½”ë“œë¥¼ ì½”ë“œë² ì´ìŠ¤ì— í•©ì¹˜ì.
  - í…ŒìŠ¤íŠ¸ ì½”ë“œ ì—†ëŠ” ë¬´ì„œìš´ ì½”ë“œë¥¼ ì• ì´ˆì— ì½”ë“œë² ì´ìŠ¤ì—ì„œ ì«“ì•„ë‚´ì.

### CDì™€ í•¨ê»˜ë¼ë©´?

- QA ì—”ì§€ë‹ˆì–´ì™€ ê°™ì€ ë‚´ë¶€ ì‚¬ìš©ì í˜¹ì€ ì‹¤ì œ production í™˜ê²½ì˜ ì‚¬ìš©ìì—ê²Œ ì§€ì†ì ì´ê³  ì•ˆì •ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.

### ì  í‚¨ìŠ¤ ë„Œ ëˆ„êµ¬ëƒ?

- ìë°” ëŸ°íƒ€ì„ ìœ„ì—ì„œ ë™ì‘í•˜ëŠ” ìë™í™” ì„œë²„!
  - ë‹¤ì–‘í•œ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ í™œìš©í•´ì„œ ê°ì¢… ìë™í™” ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ
  - ì¼ë ¨ì˜ ìë™í™” ì‘ì—…ì˜ ìˆœì„œë“¤ì˜ ì§‘í•©ì¸ Pipelineì„ í†µí•´ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•¨
- ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬ ë“± ëª¨ë“  ê²ƒì„ ìë™í™”í•´ì£¼ëŠ” ìë™í™” ì„œë²„!
- í”ŒëŸ¬ê·¸ì¸
  - ì •ë§ ë§ì€ í”ŒëŸ¬ê·¸ì¸ì´ ì¡´ì¬í•˜ì§€ë§Œ..
  - ëŒ€í‘œì ì¸ í”ŒëŸ¬ê·¸ì¸ë“¤
    - Credentials Plugin
      - ë°°í¬ì— í•„ìš”í•œ ê°ì¢… ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ í‚¤ ë“±ì„ ì €ì¥
    - Git Plugin
    - Pipeline
      - ì—¬ëŸ¬ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ìš©ë„ì— ë§ê²Œ ì‚¬ìš©í•˜ê³  ì •ì˜í•¨ìœ¼ë¡œì¨ íŒŒì´í”„ë¼ì¸ì„ í†µí•´ ì„œë¹„ìŠ¤ê°€ ë°°í¬ë¨
      - ë‘ ê°€ì§€ í˜•íƒœì˜ Pipeline syntaxê°€ ì¡´ì¬ (Declarative, Scripted pipeline), ìµœì‹ ì¸ Declarative syntaxë¥¼ ì´ìš©í•˜ì.

### ì  í‚¨ìŠ¤ ì„¤ì¹˜í•´ë³´ê¸°

```bash
$ brew install jenkins

$ brew services start jenkins
# $ brew services stop jenkins
# $ brew services restart jenkins
```

- ì²˜ìŒ localhost:8080ìœ¼ë¡œ ì›¹ ì„œë¹„ìŠ¤ì— ì ‘ì†í•˜ë©´ íŒ¨ìŠ¤ì›Œë“œ íŒŒì¼ ê²½ë¡œë¥¼ ì£¼ê³  ë³µë¶™í•´ë‹¬ë¼ê³  í•œë‹¤.
- ì¶”ì²œë°›ëŠ” í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜ë°›ë„ë¡ í•˜ì.

#### ê°œë°œ í”„ë¡œì„¸ìŠ¤

1. ê°œë°œìê°€ ìì‹ ì˜ PCì—ì„œ ê°œë°œì„ ì§„í–‰í•œë‹¤.
2. ë‹¤ë¥¸ ê°œë°œìê°€ ì‘ì„±í•œ ì½”ë“œì™€ ì°¨ì´ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ì§€ ë‚´ë¶€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤. (githook)
3. ì§„í–‰í•œ ë‚´ìš©ì„ ë‹¤ë¥¸ ê°œë°œìë“¤ê³¼ ê³µìœ í•˜ê¸° ìœ„í•´ gitê³¼ ê°™ì€ SCMì— ì˜¬ë¦°ë‹¤. (develop ë¸Œëœì¹˜)
4. develop ë¸Œëœì¹˜ì˜ ë‚´ìš©ì„ ê°œë°œ í™˜ê²½ì— ë°°í¬í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ì™€ Lint ë“± ì½”ë“œ í¬ë§·íŒ…ì„ ì§„í–‰í•œë‹¤.
5. ë°°í¬í•˜ê¸° ìœ„í•œ ë¹Œë“œ ê³¼ì •ì„ ê±°ì¹œë‹¤.
6. ì½”ë“œë¥¼ ë°°í¬í•œë‹¤.

#### ì—¬ëŸ¬ ë°°í¬ í™˜ê²½ì˜ ê´€ë¦¬

ì—¬ëŸ¬ ë°°í¬ í™˜ê²½ì˜ ê´€ë¦¬ì—ì„œ í•µì‹¬ì€ "ì¸í”„ë¼ë¥¼ ëª¨ë“ˆí™”í•˜ì—¬ ì–´ë–¤ ê²ƒì´ ë³€ìˆ˜ì¸ì§€ ì˜ ì„¤ì •í•˜ê³  ì´ë¥¼ ì˜ ì„¤ê³„í•˜ëŠ” ê²ƒ!"

ê°€ë ¹ APP_ENVì²˜ëŸ¼ í˜„ì¬ ë°°í¬í•˜ê³ ì í•˜ëŠ” ê²ƒì´ ë¬´ìŠ¨ í™˜ê²½ì¸ì§€ ì„¤ì •í•˜ê³  ì•± ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‹¤ì–‘í•œ ë³€ìˆ˜ë“¤ì„ APP_ENVì— ë§ê²Œ ì˜ ê°€ì ¸ë‹¤ ì“°ëŠ” ê²ƒì´ í•µì‹¬.

ì„œë¹„ìŠ¤ ë‚´ë¶€ì˜ ë³€ìˆ˜ ë¿ë§Œ ì•„ë‹ˆë¼ í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ë¥¼ ë§ì´ í™œìš©í•´ì„œ ê°œë°œí•˜ëŠ” ìš”ì¦˜ì—ëŠ” í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ ë‚´ì—ì„œ ì¸í”„ë¼ë³„ í‚¤ê´€ë¦¬ê°€ ë§¤ìš° ì¤‘ìš”í•´ì„œ aws system managerì˜ parameter storeì™€ ê°™ì€ í‚¤ ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì“°ëŠ” ê²ƒì„ ê°•ì¶”.

### ì˜ˆì œì™€ í•¨ê»˜í•˜ëŠ” ì‹¤ìŠµ

1. ì›¹ ì‚¬ì´íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.
2. ì›¹ ì‚¬ì´íŠ¸ ì½”ë“œë¥¼ ë¹Œë“œ í•´ì„œ S3ì— ì—…ë¡œë“œí•œë‹¤.
3. Node ê¸°ë°˜ ë°±ì—”ë“œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.
4. ì»´íŒŒì¼, í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê³  ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ í›„ ECRì— í‘¸ì‹œí•œë‹¤.
5. ì—…ë¡œë“œí•œ ECR ì´ë¯¸ì§€ë¡œ ECS ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•œë‹¤.

#### í•´ì•¼í•  ì¼

- ê¹ƒí—™ ì—°ë™

  - ì  í‚¨ìŠ¤ê°€ ê¹ƒí—™ ë ˆí¬ì§€í† ë¦¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ "ê¹ƒí—™ ì•¡ì„¸ìŠ¤ í† í°"ì„ ìƒì„±í•œë‹¤.
  - "Jenkins ê´€ë¦¬" > "Manage Credentials" > "System" > "Global Credentials" > "Add credentials" ë¡œ ì ‘ê·¼í•œë‹¤.

- AWS ì—°ë™
  - ì  í‚¨ìŠ¤ê°€ AWS ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ "ì•¡ì„¸ìŠ¤ í‚¤"ì™€ "ì‹œí¬ë¦¿ í‚¤"ë¥¼ IAMì—ì„œ ë°›ì•„ì˜¨ë‹¤.
  - "secret text"ë¡œ ë˜‘ê°™ì´ credentialsì— ì¶”ê°€í•´ì¤€ë‹¤.

## ğŸ”— ì°¸ê³ ë¬¸í—Œ

- [Tì•„ì¹´ë°ë¯¸ ê°•ì¢Œ](https://www.youtube.com/watch?v=JPDKLgX5bRg&ab_channel=SKplanetTacademy)
- [amazon linuxì— ì  í‚¨ìŠ¤ ì„¤ì¹˜í•˜ëŠ” ë²•](https://www.jenkins.io/doc/tutorials/tutorial-for-installing-jenkins-on-AWS/)

## ğŸ”— ì—°ê²°ë¬¸ì„œ

- [[templates/{{date}}]]
