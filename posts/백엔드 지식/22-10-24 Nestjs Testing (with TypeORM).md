---
title: Nestjs Testing (with TypeORM)
date: 2022-10-24
---

# 주제 : #테스팅

## ✏️ 메모

### 테스트 코드를 작성하지 않았던 이유가 존재한다.

- 내가 맞게 쓰고 있는지에 대한 의구심, 특히 단순히 반복적인 작업을 하고 있다는 생각이 들 때가 많았다.
  - 특히 외부 API나 데이터베이스와 연동 등을 할 때, mock으로 처리하는 방식에 대한 의구심이 계속 들었고, 시원하게 배울만한 곳이 존재하지 않았다...
- 이번 기회에 여러 글을 읽어보고 테스트 코드에 대해서 정리해보는 시간을 가져보기로 한다.

### 먼저 nestjs 문서를 읽어보도록 하자.

- 아래의 내용을 깨달았다.
  - 유닛 테스트를 작성할 때, 데이베이스 커텍션을 "일반적으로" 무시할 수 있도록 테스트 코드를 작성할 수 있도록 한다.
  - 데이터베이스와 "독립적"으로 코드를 작성해서 가능한 빠르게 실행될 수 있도록 한다.
  - 위 두 사항을 만족시키기 위해 "mock models"를 작성한다.
    - nestjs 에서는 `custom providers`를 통해 해결한다.

## 🔗 참고문헌

- [Nestjs - TypeORM](https://docs.nestjs.com/techniques/database#testing-1)

## 🔗 연결문서
