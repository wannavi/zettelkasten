---
title: DI 하는 기본적인 이유 - 1
date: 2022-12-10
---

## 주제 : #Go #Map

## ✏️ 메모

### 1. 코드를 테스트하기 쉽게 만든다.

함수를 쉽게 테스트할 수 없다면, 이는 일반적으로 함수 똗는 전역 상태에 연결된 "종속성" 때문입니다. 예를 들어 서비스 계층에서 사용되는 글로벌 데이터베이스 연결 풀이 있는 경우 테스트하기 까다로울 뿐더러 실행속도에도 영향을 줍니다. 이런 경우에 DI를 이용하여 데이터베이스 의존성을 인터페이스를 통해 주입하도록 설계할 수 있습니다. 이렇게 한다면 테스트에서는 인터페이스를 통해 우리가 제어할 수 있는 어떠한 "mock"으로 대체할 수 있게 됩니다.

### 2. 관심사를 분리한다.

데이터를 어떻게 만드는지에 대한 것과 데이터를 목적지에 보내는지에 대한 것을 분리합니다. 단일 메소드/함수에 너무 많은 책임(데이터 생성 및 HTTP 요청 처리, 도메인 로직 등)이 있다고 느껴진다면 DI는 이를 해결할 수 있게 됩니다.

### 3. 다른 컨텍스트에서 코드를 재사용 할 수 있도록 허용한다.

향후 누군가가 당신의 함수를 이용한다고 할 때 간단하게 DI를 통해 이를 수행할 수 있을 것입니다.

### (참고) Mocking은 무엇인가? DI 패턴과 관련성은 무엇인가?

Mocking 은 DI 패턴에서 주입하는 실제 내용을 가짜(`mock`)으로 대체하여 코드 작성자가 테스트 코드에서 코드를 제어하고 테스트할 수 있도록 합니다.

## 🔗 참고문헌

## 🔗 연결문서

- [[posts/지식/2022/22-12-10 DI 하는 기본적인 이유 - 1]]
