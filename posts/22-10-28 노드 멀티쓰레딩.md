---
title: ë…¸ë“œ ë©€í‹°ì“°ë ˆë”©
date: 2022-10-28
---

## ì£¼ì œ : #ë…¸ë“œ #ë©€í‹°ì“°ë ˆë”©

## âœï¸ ë©”ëª¨

"NodeJs"ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹±ê¸€ ì“°ë ˆë“œë¡œ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. (ëª¨ë‘ê°€ í”íˆ ì•Œê³  ìˆëŠ” ì‚¬ì‹¤)

ë‹¤ì‹œ ë§í•´ì„œ ì½”ë“œëŠ” í•œ ë²ˆì— í•œ ê°€ì§€ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì´ì•¼ê¸°ì…ë‹ˆë‹¤.

í•˜ì§€ë§Œ í”íˆ í•˜ëŠ” ìƒê°ê³¼ëŠ” ë‹¬ë¦¬ Node.js ê·¸ ìì²´ë¡œëŠ” ë©€í‹°ì“°ë ˆë“œë¡œ ë™ì‘í•˜ê³  ìˆê³ , `libuv`ì™€ ê°™ì€ ì‚¬ìš©ìì—ê²Œ ë“œëŸ¬ë‚˜ì§€ ì•ŠëŠ” ìˆ¨ê²¨ì§„ ì“°ë ˆë“œê°€ ì¡´ì¬í•©ë‹ˆë‹¤. (libuvëŠ” I/O ë™ì‘ê³¼ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë“±ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.)

ì´ëŸ¬í•œ `hidden threads`ë¥¼ í†µí•´ ë…¸ë“œëŠ” ë¹„ë™ê¸°ì (=asynchronous)ì¸ ë°©ë²•ì„ ì œê³µí•˜ì—¬ I/O ìš”ì²­ê³¼ ê°™ì€ ì‘ì—…ì—ë„ ë©”ì¸ ì“°ë ˆë“œë¥¼ ë§‰ì§€ ì•Šê³ (blocking) ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë°©ì‹ì´ ë°”ë¡œ Nodeê°€ ê¸‰ê²©í•˜ê²Œ ì„±ì¥í•  ìˆ˜ ìˆëŠ” ë°°ê²½ì´ê¸°ë„ í•©ë‹ˆë‹¤.

---

ê·¸ëŸ¬ë‚˜ ëª‡ ë…„ ìƒˆì— CPUëŠ” ì˜ˆì „ê³¼ ê°™ì´ ê¸‰ê²©í•˜ê²Œ ë¹¨ë¼ì§€ì§€ëŠ” ì•Šê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê·¸ ëŒ€ì‹  ë” ë§ì€ ì½”ì–´ë¥¼ ì˜¬ë ¤ ì²˜ë¦¬í•˜ê²Œ ë˜ì—ˆê³ , 8ê°œ í˜¹ì€ ê·¸ ì´ìƒì˜ ì½”ì–´ë¥¼ ì¥ì°©í•˜ê³  ìˆëŠ” ì»´í“¨í„°ë“¤ì´ í”í•´ ì§€ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì¶”ì„¸ì—ë„ ë¶ˆêµ¬í•˜ê³ , JavaScriptëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œì´ê¸° ë•Œë¬¸ì— CPU ë°”ì¸ë”© ì‘ì—…ì˜ ì†ë„ë¥¼ ë†’ì´ê±°ë‚˜ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì¤‘ë‹¨ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì»´í“¨í„°ì˜ ì¶”ê°€ ì½”ì–´ë¥¼ í™œìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ë¬¸ì œì  ë•Œë¬¸ì—, Node.jsëŠ” `worker-threads` ëª¨ë“ˆì„ ì†Œê°œí•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ íƒœìŠ¤í¬ë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì›Œì»¤ ì“°ë ˆë“œë¥¼ ë„ì…í•¨ìœ¼ë¡œ ì–»ëŠ” ì¥ì ì€ CPU-bound íƒœìŠ¤í¬ê°€ ë©”ì¸ ì“°ë ˆë“œë¥¼ ë¸”ë¡í•˜ì§€ ì•Šì•„ ì—¬ëŸ¬ ì¼ì„ ì ì ˆíˆ ë‚˜ëˆ  ê°ê°ì˜ ì›Œì»¤ì—ì„œ ì²˜ë¦¬í•˜ê²Œ í•˜ë©´ ëœë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

ë”°ë¼ì„œ **CPU-intensiveí•œ íƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì–´ë–»ê²Œ ì´ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€** ë…¼ì˜ í•´ë³´ëŠ” ê²ƒì´ ìœ„ ë‚´ìš©ì„ ì˜ ì´í•´í•˜ëŠ” í•µì‹¬ì´ ë  ê²ƒ ì…ë‹ˆë‹¤.

### í”„ë¡œì„¸ìŠ¤

```js
const process_name = process.argv.slice(2)[0];

count = 0;
while (true) {
  count++;
  if (count == 2000 || count == 4000) {
    console.log(`${process_name}: ${count}`);
  }
}
```

ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‹¤í–‰ì‹œì¼œ ë³´ë©´,
`node process.js B & node process.js C & node process.js D &`

ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ëŠ” ì„œë¡œë¥¼ ì•Œì•„ì°¨ë¦´ ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ë˜í•œ ë§¤ë²ˆ ì‹¤í–‰ì‹œí‚¬ ë•Œë§ˆë‹¤ ì•„ì›ƒí’‹ì´ ë‹¬ë¼ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” OSì˜ ìŠ¤ì¼€ì¥´ë§ ì•Œê³ ë¦¬ì¦˜ì— ì˜í•´ ë§¤ë²ˆ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ë¥¼ CPUì—ì„œ ì‹¤í–‰í• ì§€ ê²°ì •í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (ìŠ¤ì¼€ì¤„ë§ì— ëŒ€í•´ ë” ì•Œê³  ì‹¶ë‹¤ë©´ ì°¸ê³ ë¬¸í—Œì— ìˆëŠ” OSTEP ë¬¸ì„œë¥¼ ì½ê¸° ë°”ëë‹ˆë‹¤.)

ì‹±ê¸€ ì½”ì–´ ë¨¸ì‹ ì—ì„œëŠ” ìœ„ ëª…ë ¹ì–´ëŠ” `concurrently`í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤. ê·¸ ë§ì€, OSê°€ ê° í”„ë¡œì„¸ìŠ¤ë¥¼ ì¼ì •í•œ ì£¼ê¸°ë§ˆë‹¤ ìŠ¤ìœ„ì¹­í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `process D`ê°€ ì¼ì • ì‹œê°„ ë™ì•ˆ ë™ì‘í–ˆë‹¤ë©´ ì´ ìƒíƒœë¥¼ OSê°€ ì €ì¥ í•œë’¤ì— `process B`ë¥¼ ì‹¤í–‰í•˜ë„ë¡ ë™ì‘í•©ë‹ˆë‹¤. ì´ë¥¼ ë°˜ë³µí•˜ì—¬ ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ë™ì‘ë©ë‹ˆë‹¤. ì´ëŠ” "ë™ì‹œ"ì— ì‹¤í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ” ë§ˆë²•ê³¼ë„ ê°™ì€ ê²ƒì´ë©° ê·¸ ë’¤ì—ì„œëŠ” ì‹¤ì œë¡œ ë§¤ìš° ë¹ ë¥´ê²Œ OS ìŠ¤ì¼€ì¤„ëŸ¬ê°€ í”„ë¡œì„¸ìŠ¤ë¥¼ ìŠ¤ìœ„ì¹­í•˜ê³  ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.

í•˜ì§€ë§Œ ë©€í‹° ì½”ì–´ ë¨¸ì‹ ì—ì„œëŠ” OSê°€ ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì ì ˆíˆ ì½”ì–´ì— ë°°ì¹˜í•˜ì—¬ ì •ë§ "ë™ì‹œ(ë³‘ë ¬)"ì— ì‘ë™í•˜ê²Œ í•©ë‹ˆë‹¤. ì´ê²ƒì„ `ë³‘ë ¬(parallelism)`ì´ë¼ê³  í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë§Œì•½ì— ì½”ì–´ì˜ ê°œìˆ˜ë³´ë‹¤ ë” ë§ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤ë©´ ê·¸ë•ŒëŠ” ì—¬ëŸ¬ ê°œì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ í•˜ë‚˜ì˜ ì½”ì–´ì—ì„œ `concurrently`í•˜ê²Œ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.

### ì“°ë ˆë“œ

ì“°ë ˆë“œë„ í”„ë¡œì„¸ìŠ¤ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤. ê°ê°ì´ `instruction pointer`ë¥¼ ê°€ì§€ê³  ìˆê³ , í•˜ë‚˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ í”„ë¡œì„¸ìŠ¤ì™€ëŠ” ë‹¤ë¥´ê²Œ ì“°ë ˆë“œëŠ” ê·¸ë“¤ë§Œì˜ ë©”ëª¨ë¦¬ë¥¼ ê°€ì§€ê³  ìˆì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ê·¸ ëŒ€ì‹ ì— í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.

í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ JavaScript ì½”ë“œë¥¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ëŠ” worker_threads ëª¨ë“ˆë¡œ ìƒì„±ëœ ì—¬ëŸ¬ ì“°ë ˆë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ìŠ¤ë ˆë“œëŠ” **ë©”ì‹œì§€ ì „ë‹¬ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ì˜ ë°ì´í„° ê³µìœ ë¥¼ í†µí•´ ì„œë¡œ í†µì‹ **í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ë„ **ìš´ì˜ ì²´ì œì—ì„œ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ìš”êµ¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í”„ë¡œì„¸ìŠ¤ì— ë¹„í•´ ê°€ë³ìŠµë‹ˆë‹¤**.

ì“°ë ˆë“œì˜ ì‹¤í–‰ë„ í”„ë¡œì„¸ìŠ¤ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤. ì‹±ê¸€ ì½”ì–´ ì‹œìŠ¤í…œì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì“°ë ˆë“œë¥¼ ì´ìš©í•œë‹¤ë©´, OSëŠ” ì¼ì • ê°„ê²©ìœ¼ë¡œ ì´ ì“°ë ˆë“œë“¤ì„ ìŠ¤ìœ„ì¹­í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë©€í‹° ì½”ì–´ ì‹œìŠ¤í…œì—ì„œëŠ” ì—¬ëŸ¬ ì½”ì–´ë¥¼ í†µí•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë™ì‹œì— ì‹¤í–‰í•©ë‹ˆë‹¤.

### ë…¸ë“œì—ì„œì˜ ìˆ¨ê²¨ì§„ ì“°ë ˆë“œ ì•Œì•„ë³´ê¸°

ë…¸ë“œëŠ” ì‹±ê¸€ ì“°ë ˆë“œë¼ëŠ” ì˜ëª» ì „íŒŒë˜ëŠ” ì†Œë¬¸ê³¼ëŠ” ë‹¤ë¥´ê²Œ, ì—¬ëŸ¬ ì“°ë ˆë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” ë©€í‹°ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” I/O ë™ì‘ê³¼ non-blockingì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ë…¸ë“œ ë‚´ ì—¬ëŸ¬ ì“°ë ˆë“œì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹±ê¸€ ì“°ë ˆë“œê°€ ë§ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ì‹±ê¸€ ì“°ë ˆë“œì—ì„œ ë™ì‘í•©ë‹ˆë‹¤. ë”°ë¼ì„œ íŒŒì¼ I/Oë‚˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ í¬í•¨í•œ I/O ì‘ì—…ì´ ë©”ì¸ ì“°ë ˆë“œë¥¼ `blocking`í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë…¸ë“œëŠ” 4ê°œì˜ ì—¬ë¶„ì˜ ì“°ë ˆë“œë¥¼ ì œê³µí•˜ëŠ” `libuv` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ì“°ë ˆë“œë“¤ì„ í†µí•´, I/O ë™ì‘ì€ ë¶„ë¦¬ë˜ì–´ ì‹¤í–‰ë˜ê³ , ì´ ë™ì‘ì´ ëë‚˜ë©´, ì´ë²¤íŠ¸ ë£¨í”„ëŠ” I/O íƒœìŠ¤í¬ì™€ ì—°ê´€ëœ ì½œë°±ì„ `microtask queue`ì— ì¶”ê°€í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë©”ì¸ ì“°ë ˆë“œì˜ `call stack`ì´ ë¹„ì›Œì§€ëŠ” ì‹œì ì—, ì•ì„  ì½œë°±ë“¤ì´ ìŠ¤íƒì— ì¶”ê°€ë˜ê³  ì‹¤í–‰ë©ë‹ˆë‹¤.

ì¢€ ë” ì •í™•í•˜ê²Œ ë§í•˜ìë©´, I/O íƒœìŠ¤í¬ ì´í›„ì˜ ì½œë°±ì€ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, I/O íƒœìŠ¤í¬(íŒŒì¼ ì½ê¸°/ì“°ê¸°, ë„¤íŠ¸ì›Œí¬ ìš”ì²­)ì€ ì“°ë ˆë“œë¡œ ì¸í•´ì„œ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. I/O ì‘ì—…ì´ ì¢…ë£Œë˜ë©´, ì½œë°±ì´ ë©”ì¸ ì“°ë ˆë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒ ì…ë‹ˆë‹¤.

### ê°„í˜¹ê°€ë‹¤ ì°©ê°í•˜ëŠ” ê²ƒ

ë…¸ë“œë¡œ ì„œë²„ í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ë³´ë©´ ê° ìš”ì²­ì— ëŒ€í•´ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë˜ê³  ìˆë‹¤ëŠ” ëŠë‚Œì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì‹¤ì œë¡œë„ ë§¤ìš° ë¹ ë¥´ê¸° ë•Œë¬¸ì—...). í•˜ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì´ CPU-Bound Taskë¥¼ í•˜ë‚˜ì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œ ë‘ê³  ì‹¤í—˜ì„ í•´ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ ìš°ë¦¬ì˜ ë…¸ë“œ ì„œë²„ëŠ” ì—´ì‹¬íˆ ê° ìš”ì²­ì„ ì°¨ë¡€ëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (í•˜ì§€ë§Œ í”„ë¡œë•ì…˜ì—ì„  PM2 ë“±ì„ í™œìš©í•´ì„œ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œì„¸ìŠ¤ë¡œ ëŒë¦¬ëŠ” ê²½ìš°ê°€ ëŒ€ë‹¤ìˆ˜ì…ë‹ˆë‹¤.)

```js
const express = require("express");

const app = express();
const port = process.env.PORT || 3000;

app.get("/non-blocking/", (req, res) => {
  console.log("THIS IS NON-BLOCKING! ğŸ˜Š");
  res.status(200).send("This page is non-blocking");
});

app.get("/blocking", (req, res) => {
  console.log("THIS IS BLOCKING! ğŸ˜’");
  let counter = 0;
  for (let i = 0; i < 20_000_000_000; i++) {
    counter++;
  }
  res.status(200).send(`result is ${counter}`);
});

app.listen(port, () => {
  console.log(`App listening on port ${port}`);
});
```

ìœ„ ì„œë²„ì—ì„œ `/blocking` ì„ í˜¸ì¶œí•œ ë‹¤ìŒì— ë°”ë¡œ `/non-blocking` ì„ í˜¸ì¶œí•˜ë©´ ì–´ì°Œ ë ê¹Œìš”? ì •ë‹µì€ `/blocking`ì´ ëë‚ ë•Œê¹Œì§€ ì‘ë‹µì´ ì˜¤ì§€ ì•ŠëŠ”ë‹¤ ì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì„œë²„ê°€ ì´ë ‡ê²Œ CPU ë°”ìš´ë“œê°€ í° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤ë©´ í¬ë‚˜í° ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ëŸ° ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œìš”?

ë°”ë¡œ ì•ì—ì„œ ì´ì•¼ê¸°í–ˆë˜ëŒ€ë¡œ `worker-threads` ëª¨ë“ˆì„ í†µí•´ì„œ CPU ë°”ìš´ë“œ ì‘ì—…ì„ ì—¬ëŸ¬ ì“°ë ˆë“œì— ë‚˜ëˆ ì•¼ í•©ë‹ˆë‹¤. (CPU ë°”ìš´ë”©ì´ ë…¼-ë¸”ë¡œí‚¹ íŠ¹ì„±ê³¼ëŠ” í¬ê²Œ ê´€ë ¨ ì—†ë‹¤ëŠ” ê²ƒì€ ë‹¹ì—°íˆ ê¹¨ë‹¬ìœ¼ì…¨ì£ ?)

### CPU-Bound Taskë¥¼ `worker-threads` ëª¨ë“ˆì„ í†µí•´ ë‹¤ë¤„ë³´ê¸°

```js
// worker.js
const { parentPort } = require("worker_threads");

let counter = 0;
for (let i = 0; i < 20_000_000_000; i++) {
  counter++;
}

parentPort.postMessage(counter);
```

```js
// index.js
const express = require("express");
const { Worker } = require("worker_threads");

const app = express();
const port = process.env.PORT || 3000;

app.get("/non-blocking/", (req, res) => {
  console.log("THIS IS NON-BLOCKING! ğŸ˜’");
  res.status(200).send("This page is non-blocking");
});

app.get("/blocking", (req, res) => {
  console.log("THIS IS BLOCKING! ğŸ˜’");

  const worker = new Worker("./worker.js");
  worker.on("message", (data) => {
    res.status(200).send(`result is ${data}`);
  });
  worker.on("error", (msg) => {
    res.status(404).send(`An error occurred: ${msg}`);
  });
});

app.listen(port, () => {
  console.log(`App listening on port ${port}`);
});
```

ì´ë²ˆì—ëŠ” `/blocking`ì„ ìš”ì²­í•˜ìë§ˆì `/non-blocking` ì„ ìš”ì²­í•´ë„ ì‘ë‹µì´ ë¶ˆëŸ¬ì™€ì§„ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” CPU ë°”ìš´ë”© íƒœìŠ¤í¬ë¥¼ ë‹¤ë¥¸ ì“°ë ˆë“œì—ì„œ ì‘ì—…í•˜ë„ë¡ ë³€ê²½í•˜ì—¬ ë©”ì¸ ì“°ë ˆë“œê°€ ë‹¤ë¥¸ ìš”ì²­ì„ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ë§Œë“  ê²ƒ ì…ë‹ˆë‹¤.

## ğŸ”— ì°¸ê³ ë¬¸í—Œ

- [# How To Use Multithreading in Node.js](https://www.digitalocean.com/community/tutorials/how-to-use-multithreading-in-node-js)
- [OSTEP - CPU scheduling](https://pages.cs.wisc.edu/~remzi/OSTEP/cpu-sched.pdf)
- [How many threads can run on a single core?](https://www.quora.com/How-many-threads-can-run-on-a-single-core)

## ğŸ”— ì—°ê²°ë¬¸ì„œ
